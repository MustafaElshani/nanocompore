<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="Compare nanopore signal to find modifications"><link rel="canonical" href="https://tleonardi.github.io/nanocompore/demo/SimReads_usage/"><meta name="author" content="Adrien Leger & Tommaso Leonardi"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../../assets/images/favicon.png"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>Generate simulated reads - Nanocompore</title><link rel="stylesheet" href="../../assets/stylesheets/application.4031d38b.css"><script src="../../assets/javascripts/modernizr.74668098.js"></script><link rel="stylesheet" href="../../assets/fonts/material-icons.css"></head><body dir="ltr"><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#generate-simulated-reads" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="https://tleonardi.github.io/nanocompore/" title="Nanocompore" class="md-header-nav__button md-logo"><i class="md-icon"></i></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">Nanocompore</span><span class="md-header-nav__topic">Generate simulated reads</span></div></div><div class="md-flex__cell md-flex__cell--shrink"></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a href="https://github.com/tleonardi/nanocompore/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">tleonardi/nanocompore</div></a></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="https://tleonardi.github.io/nanocompore/" title="Nanocompore" class="md-nav__button md-logo"><i class="md-icon"></i></a>Nanocompore</label><div class="md-nav__source"><a href="https://github.com/tleonardi/nanocompore/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">tleonardi/nanocompore</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../.." title="Home" class="md-nav__link">Home</a></li><li class="md-nav__item"><a href="../../installation/" title="Installation instructions" class="md-nav__link">Installation instructions</a></li><li class="md-nav__item"><a href="../../data_preparation/" title="Data preparation" class="md-nav__link">Data preparation</a></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked><label class="md-nav__link" for="nav-4">Usage</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-4">Usage</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../usage/" title="How to use Nanocompore" class="md-nav__link">How to use Nanocompore</a></li><li class="md-nav__item"><a href="../SampComp_usage/" title="Compare samples with SampComp" class="md-nav__link">Compare samples with SampComp</a></li><li class="md-nav__item"><a href="../SampCompDB_usage/" title="Generate plots and tables with SampCompDB" class="md-nav__link">Generate plots and tables with SampCompDB</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Generate simulated reads</label><a href="./" title="Generate simulated reads" class="md-nav__link md-nav__link--active">Generate simulated reads</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#in-brief" title="In brief" class="md-nav__link">In brief</a></li><li class="md-nav__item"><a href="#quick-start" title="Quick start" class="md-nav__link">Quick start</a></li><li class="md-nav__item"><a href="#description-of-main-options" title="Description of main options" class="md-nav__link">Description of main options</a></li><li class="md-nav__item"><a href="#advanced-api-usage" title="Advanced API Usage" class="md-nav__link">Advanced API Usage</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#import-the-package-and-plotting-tools" title="Import the package and plotting tools" class="md-nav__link">Import the package and plotting tools</a></li><li class="md-nav__item"><a href="#generate-reads-without-modifications" title="Generate reads without modifications" class="md-nav__link">Generate reads without modifications</a></li><li class="md-nav__item"><a href="#generate-a-small-dataset-with-both-modified-and-unmodified-conditions" title="Generate a small dataset with both modified and unmodified conditions" class="md-nav__link">Generate a small dataset with both modified and unmodified conditions</a></li></ul></nav></li><li class="md-nav__item"><a href="#full-cli-and-api-documentations" title="Full CLI and API documentations" class="md-nav__link">Full CLI and API documentations</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#api-documentation" title="API documentation" class="md-nav__link">API documentation</a></li><li class="md-nav__item"><a href="#cli-documentation" title="CLI documentation" class="md-nav__link">CLI documentation</a></li></ul></nav></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="../../alternative/" title="Alternative and complementary packages" class="md-nav__link">Alternative and complementary packages</a></li><li class="md-nav__item"><a href="../../contributing/" title="Contributing" class="md-nav__link">Contributing</a></li><li class="md-nav__item"><a href="../../code_of_conduct/" title="Code of conduct" class="md-nav__link">Code of conduct</a></li><li class="md-nav__item"><a href="../../licence/" title="Licence" class="md-nav__link">Licence</a></li><li class="md-nav__item"><a href="../../changelog/" title="Changelog" class="md-nav__link">Changelog</a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#in-brief" title="In brief" class="md-nav__link">In brief</a></li><li class="md-nav__item"><a href="#quick-start" title="Quick start" class="md-nav__link">Quick start</a></li><li class="md-nav__item"><a href="#description-of-main-options" title="Description of main options" class="md-nav__link">Description of main options</a></li><li class="md-nav__item"><a href="#advanced-api-usage" title="Advanced API Usage" class="md-nav__link">Advanced API Usage</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#import-the-package-and-plotting-tools" title="Import the package and plotting tools" class="md-nav__link">Import the package and plotting tools</a></li><li class="md-nav__item"><a href="#generate-reads-without-modifications" title="Generate reads without modifications" class="md-nav__link">Generate reads without modifications</a></li><li class="md-nav__item"><a href="#generate-a-small-dataset-with-both-modified-and-unmodified-conditions" title="Generate a small dataset with both modified and unmodified conditions" class="md-nav__link">Generate a small dataset with both modified and unmodified conditions</a></li></ul></nav></li><li class="md-nav__item"><a href="#full-cli-and-api-documentations" title="Full CLI and API documentations" class="md-nav__link">Full CLI and API documentations</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#api-documentation" title="API documentation" class="md-nav__link">API documentation</a></li><li class="md-nav__item"><a href="#cli-documentation" title="CLI documentation" class="md-nav__link">CLI documentation</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><a href="https://github.com/tleonardi/nanocompore/edit/master/docs/demo/SimReads_usage.ipynb" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a><h1 id="generate-simulated-reads">Generate simulated reads</h1>
<h2 id="in-brief">In brief</h2>
<p>...</p>
<h2 id="quick-start">Quick start</h2>
<p>...</p>
<h2 id="description-of-main-options">Description of main options</h2>
<p>...</p>
<h2 id="advanced-api-usage">Advanced API Usage</h2>
<p>...</p>
<h3 id="import-the-package-and-plotting-tools">Import the package and plotting tools</h3>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">nanocompore.SimReads</span> <span class="kn">import</span> <span class="n">SimReads</span>

<span class="c1"># Ploting lib imports</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">pl</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
</pre></div>

<h3 id="generate-reads-without-modifications">Generate reads without modifications</h3>
<div class="codehilite"><pre><span></span><span class="n">SimReads</span> <span class="p">(</span>
    <span class="n">fasta_fn</span><span class="o">=</span><span class="s2">&quot;./references/simulated/ref.fa&quot;</span><span class="p">,</span>
    <span class="n">ref_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;ref_0000&quot;</span><span class="p">],</span>
    <span class="n">outpath</span><span class="o">=</span><span class="s2">&quot;./results/&quot;</span><span class="p">,</span>
    <span class="n">overwrite</span><span class="o">=</span><span class="s2">&quot;True&quot;</span><span class="p">,</span>
    <span class="n">plot</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">nreads_per_ref</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">Initialising</span> <span class="n">SimReads</span> <span class="k">and</span> <span class="n">checking</span> <span class="k">options</span>
<span class="n">Importing</span> <span class="n">RNA</span> <span class="n">model</span> <span class="n">file</span>
<span class="n">Reading</span> <span class="n">Fasta</span> <span class="n">file</span> <span class="k">and</span> <span class="n">simulate</span> <span class="n">corresponding</span> <span class="k">data</span>
<span class="mi">100</span><span class="o">%|</span><span class="err">██████████</span><span class="o">|</span> <span class="mi">1</span><span class="o">/</span><span class="mi">1</span> <span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">&lt;</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">,</span>  <span class="mi">1</span><span class="p">.</span><span class="mi">59</span> <span class="k">References</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>
</pre></div>


<p><img alt="png" src="output_12_1.png" /></p>
<div class="codehilite"><pre><span></span><span class="n">SimReads</span> <span class="p">(</span>
    <span class="n">fasta_fn</span><span class="o">=</span><span class="s2">&quot;./references/simulated/ref.fa&quot;</span><span class="p">,</span>
    <span class="n">ref_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;ref_0000&quot;</span><span class="p">],</span>
    <span class="n">outpath</span><span class="o">=</span><span class="s2">&quot;./results/&quot;</span><span class="p">,</span>
    <span class="n">overwrite</span><span class="o">=</span><span class="s2">&quot;True&quot;</span><span class="p">,</span>
    <span class="n">plot</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">mod_extend_context</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">nreads_per_ref</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="n">intensity_mod</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">dwell_mod</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">mod_reads_freq</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">Initialising</span> <span class="n">SimReads</span> <span class="k">and</span> <span class="n">checking</span> <span class="k">options</span>
<span class="n">Importing</span> <span class="n">RNA</span> <span class="n">model</span> <span class="n">file</span>
<span class="n">Reading</span> <span class="n">Fasta</span> <span class="n">file</span> <span class="k">and</span> <span class="n">simulate</span> <span class="n">corresponding</span> <span class="k">data</span>
<span class="mi">100</span><span class="o">%|</span><span class="err">██████████</span><span class="o">|</span> <span class="mi">1</span><span class="o">/</span><span class="mi">1</span> <span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">&lt;</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">,</span>  <span class="mi">1</span><span class="p">.</span><span class="mi">25</span> <span class="k">References</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>
</pre></div>


<p><img alt="png" src="output_13_1.png" /></p>
<h3 id="generate-a-small-dataset-with-both-modified-and-unmodified-conditions">Generate a small dataset with both modified and unmodified conditions</h3>
<div class="codehilite"><pre><span></span><span class="c1"># Options</span>
<span class="n">fasta</span> <span class="o">=</span> <span class="s2">&quot;./references/simulated/ref.fa&quot;</span>
<span class="n">data_dir</span> <span class="o">=</span> <span class="s2">&quot;./eventalign_files/simulated/&quot;</span>

<span class="k">for</span> <span class="n">replicate</span><span class="p">,</span> <span class="n">nreads</span> <span class="ow">in</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">55</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">)]:</span>
    <span class="c1"># Generate non modified control</span>
    <span class="n">SimReads</span> <span class="p">(</span>
        <span class="n">fasta_fn</span><span class="o">=</span><span class="n">fasta</span><span class="p">,</span>
        <span class="n">outpath</span><span class="o">=</span><span class="n">data_dir</span><span class="p">,</span>
        <span class="n">outprefix</span><span class="o">=</span><span class="n">f</span><span class="s2">&quot;unmodified_rep_{replicate}&quot;</span><span class="p">,</span>
        <span class="n">overwrite</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">nreads_per_ref</span><span class="o">=</span> <span class="n">nreads</span><span class="p">)</span>

    <span class="c1"># Generate modified control</span>
    <span class="n">SimReads</span> <span class="p">(</span>
        <span class="n">fasta_fn</span><span class="o">=</span><span class="n">fasta</span><span class="p">,</span>
        <span class="n">outpath</span><span class="o">=</span><span class="n">data_dir</span><span class="p">,</span>
        <span class="n">outprefix</span><span class="o">=</span><span class="n">f</span><span class="s2">&quot;modified_rep_{replicate}&quot;</span><span class="p">,</span>
        <span class="n">overwrite</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">nreads_per_ref</span><span class="o">=</span> <span class="n">nreads</span><span class="p">,</span>
        <span class="n">intensity_mod</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">dwell_mod</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">mod_reads_freq</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
        <span class="n">mod_bases_freq</span> <span class="o">=</span> <span class="mf">0.25</span><span class="p">,</span>
        <span class="n">pos_rand_seed</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="n">Initialising</span> <span class="n">SimReads</span> <span class="k">and</span> <span class="n">checking</span> <span class="k">options</span>
<span class="n">Importing</span> <span class="n">RNA</span> <span class="n">model</span> <span class="n">file</span>
<span class="n">Reading</span> <span class="n">Fasta</span> <span class="n">file</span> <span class="k">and</span> <span class="n">simulate</span> <span class="n">corresponding</span> <span class="k">data</span>
<span class="mi">100</span><span class="o">%|</span><span class="err">██████████</span><span class="o">|</span> <span class="mi">5</span><span class="o">/</span><span class="mi">5</span> <span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">&lt;</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">,</span>  <span class="mi">6</span><span class="p">.</span><span class="mi">43</span> <span class="k">References</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>
<span class="n">Initialising</span> <span class="n">SimReads</span> <span class="k">and</span> <span class="n">checking</span> <span class="k">options</span>
<span class="n">Importing</span> <span class="n">RNA</span> <span class="n">model</span> <span class="n">file</span>
<span class="n">Reading</span> <span class="n">Fasta</span> <span class="n">file</span> <span class="k">and</span> <span class="n">simulate</span> <span class="n">corresponding</span> <span class="k">data</span>
<span class="mi">100</span><span class="o">%|</span><span class="err">██████████</span><span class="o">|</span> <span class="mi">5</span><span class="o">/</span><span class="mi">5</span> <span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">01</span><span class="o">&lt;</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">,</span>  <span class="mi">4</span><span class="p">.</span><span class="mi">36</span> <span class="k">References</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>
<span class="n">Initialising</span> <span class="n">SimReads</span> <span class="k">and</span> <span class="n">checking</span> <span class="k">options</span>
<span class="n">Importing</span> <span class="n">RNA</span> <span class="n">model</span> <span class="n">file</span>
<span class="n">Reading</span> <span class="n">Fasta</span> <span class="n">file</span> <span class="k">and</span> <span class="n">simulate</span> <span class="n">corresponding</span> <span class="k">data</span>
<span class="mi">100</span><span class="o">%|</span><span class="err">██████████</span><span class="o">|</span> <span class="mi">5</span><span class="o">/</span><span class="mi">5</span> <span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">&lt;</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">,</span>  <span class="mi">5</span><span class="p">.</span><span class="mi">63</span> <span class="k">References</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>
<span class="n">Initialising</span> <span class="n">SimReads</span> <span class="k">and</span> <span class="n">checking</span> <span class="k">options</span>
<span class="n">Importing</span> <span class="n">RNA</span> <span class="n">model</span> <span class="n">file</span>
<span class="n">Reading</span> <span class="n">Fasta</span> <span class="n">file</span> <span class="k">and</span> <span class="n">simulate</span> <span class="n">corresponding</span> <span class="k">data</span>
<span class="mi">100</span><span class="o">%|</span><span class="err">██████████</span><span class="o">|</span> <span class="mi">5</span><span class="o">/</span><span class="mi">5</span> <span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">01</span><span class="o">&lt;</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">,</span>  <span class="mi">4</span><span class="p">.</span><span class="mi">71</span> <span class="k">References</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>
</pre></div>


<h2 id="full-cli-and-api-documentations">Full CLI and API documentations</h2>
<h3 id="api-documentation">API documentation</h3>
<p>API help can be obtained with conventional python methods (help or ?) or rendered nicely in Jupyter with the jhelp function from nanocompore</p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">nanocompore.SimReads</span> <span class="kn">import</span> <span class="n">SimReads</span>
<span class="kn">from</span> <span class="nn">nanocompore.common</span> <span class="kn">import</span> <span class="n">jhelp</span>
<span class="n">jhelp</span><span class="p">(</span><span class="n">SimReads</span><span class="p">)</span>
</pre></div>

<p><strong>SimReads</strong> (fasta_fn, outpath, outprefix, overwrite, run_type, ref_list, nreads_per_ref, plot, intensity_mod, dwell_mod, mod_reads_freq, mod_bases_freq, mod_bases_type, mod_extend_context, min_mod_dist, pos_rand_seed, data_rand_seed, not_bound, log_level)</p>
<p>Simulate reads in a NanopolishComp like file from a fasta file and an inbuild model.
The simulated reads correspond to the sequences provided in the fasta file and follow
the intensity and dwell time from the corresponding model (RNA or DNA).</p>
<hr />
<ul>
<li><strong>fasta_fn</strong> (required) [str]</li>
</ul>
<p>Fasta file containing references to use to generate artificial reads.</p>
<ul>
<li><strong>outpath</strong> (default: ./) [str]</li>
</ul>
<p>Path to the output folder.</p>
<ul>
<li><strong>outprefix</strong> (default: out) [str]</li>
</ul>
<p>text outprefix for all the files generated by the function.</p>
<ul>
<li><strong>overwrite</strong> (default: False) [bool]</li>
</ul>
<p>If the output directory already exists, the standard behaviour is to raise an error to prevent overwriting existing data This option ignore the error and overwrite data if they have the same outpath and outprefix.</p>
<ul>
<li><strong>run_type</strong> (default: RNA) [str]</li>
</ul>
<p>Define the run type model to import {RNA,DNA}</p>
<ul>
<li><strong>ref_list</strong> (default: []) [list]</li>
</ul>
<p>Restrict the references to the listed IDs.</p>
<ul>
<li><strong>nreads_per_ref</strong> (default: 100) [int]</li>
</ul>
<p>Number of reads to generate per references.</p>
<ul>
<li><strong>plot</strong> (default: False) [bool]</li>
</ul>
<p>If true, generate an interactive plot of the trace generated.</p>
<ul>
<li><strong>intensity_mod</strong> (default: 0) [float]</li>
</ul>
<p>Fraction of intensity distribution SD by which to modify the intensity distribution loc value.</p>
<ul>
<li><strong>dwell_mod</strong> (default: 0) [float]</li>
</ul>
<p>Fraction of dwell time distribution SD by which to modify the intensity distribution loc value.</p>
<ul>
<li><strong>mod_reads_freq</strong> (default: 0) [float]</li>
</ul>
<p>Frequency of reads to modify.</p>
<ul>
<li><strong>mod_bases_freq</strong> (default: 0.25) [float]</li>
</ul>
<p>Frequency of bases to modify in each read (if possible).</p>
<ul>
<li><strong>mod_bases_type</strong> (default: A) [str]</li>
</ul>
<p>Base for which to modify the signal. {A,T,C,G}</p>
<ul>
<li><strong>mod_extend_context</strong> (default: 2) [int]</li>
</ul>
<p>number of adjacent base affected by the signal modification following an harmonic series.</p>
<ul>
<li><strong>min_mod_dist</strong> (default: 6) [int]</li>
</ul>
<p>Minimal distance between 2 bases to modify.</p>
<ul>
<li><strong>pos_rand_seed</strong> (default: 42) [int]</li>
</ul>
<p>Define a seed for randon position picking to get a deterministic behaviour.</p>
<ul>
<li><strong>data_rand_seed</strong> (default: None) [int]</li>
</ul>
<p>Define a seed for generating the data. If None (default) the seed is drawn from /dev/urandom.</p>
<ul>
<li><strong>not_bound</strong> (default: False) [bool]</li>
</ul>
<p>Do not bind the values generated by the distributions to the observed min and max observed values from the model file.</p>
<ul>
<li><strong>log_level</strong> (default: info) [str]</li>
</ul>
<p>Set the log level {warning, info, debug}</p>
<h3 id="cli-documentation">CLI documentation</h3>
<div class="codehilite"><pre><span></span>nanocompore simreads --help
</pre></div>

<div class="codehilite"><pre><span></span>usage: nanocompore simreads [-h] --fasta FASTA [--run_type {RNA,DNA}]
                            [--outpath OUTPATH] [--outprefix OUTPREFIX]
                            [--overwrite] [--nreads_per_ref NREADS_PER_REF]
                            [--intensity_mod INTENSITY_MOD]
                            [--dwell_mod DWELL_MOD]
                            [--mod_reads_freq MOD_READS_FREQ]
                            [--mod_bases_freq MOD_BASES_FREQ]
                            [--mod_bases_type {A,T,C,G}]
                            [--mod_extend_context MOD_EXTEND_CONTEXT]
                            [--min_mod_dist MIN_MOD_DIST]
                            [--pos_rand_seed POS_RAND_SEED] [--not_bound]
                            [--log_level {warning,info,debug}]

Simulate reads in a NanopolishComp like file from a fasta file and an inbuild model

* Minimal example without model alteration
    nanocompore simreads -f ref.fa -o results -n 50

* Minimal example with alteration of model intensity loc parameter for 50% of the reads
    nanocompore simreads -f ref.fa -o results -n 50 --intensity_mod 2 --mod_reads_freq 0.5 --mod_bases_freq 0.2

optional arguments:
  -h, --help            show this help message and exit

Input/Output options:
  --fasta FASTA, -f FASTA
                        Fasta file containing references to use to generate
                        artificial reads
  --run_type {RNA,DNA}  Define the run type model to import (default: RNA)
  --outpath OUTPATH, -o OUTPATH
                        Path to the output folder (default: ./)
  --outprefix OUTPREFIX, -p OUTPREFIX
                        text outprefix for all the files generated by the
                        function (default: out)
  --overwrite           Use --outpath even if it exists already (default:
                        False)
  --nreads_per_ref NREADS_PER_REF, -n NREADS_PER_REF
                        Number of reads to generate per references (default:
                        100)

Signal modification options:
  --intensity_mod INTENSITY_MOD
                        Fraction of intensity distribution SD by which to
                        modify the intensity distribution loc value (default:
                        0)
  --dwell_mod DWELL_MOD
                        Fraction of dwell time distribution SD by which to
                        modify the intensity distribution loc value (default:
                        0)
  --mod_reads_freq MOD_READS_FREQ
                        Frequency of reads to modify (default: 0)
  --mod_bases_freq MOD_BASES_FREQ
                        Frequency of bases to modify in each read (if
                        possible) (default: 0.25)
  --mod_bases_type {A,T,C,G}
                        Base for which to modify the signal (default: A)
  --mod_extend_context MOD_EXTEND_CONTEXT
                        number of adjacent base affected by the signal
                        modification following an harmonic series (default: 2)
  --min_mod_dist MIN_MOD_DIST
                        Minimal distance between 2 bases to modify (default:
                        6)

Other options:
  --pos_rand_seed POS_RAND_SEED
                        Define a seed for randon position picking to get a
                        deterministic behaviour (default: 42)
  --not_bound           Do not bind the values generated by the distributions
                        to the observed min and max observed values from the
                        model file (default: False)
  --log_level {warning,info,debug}
                        Set the log level (default: info)
</pre></div>

<div class="codehilite"><pre><span></span>
</pre></div>

<div class="codehilite"><pre><span></span>
</pre></div></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../SampCompDB_usage/" title="Generate plots and tables with SampCompDB" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Previous</span>Generate plots and tables with SampCompDB</span></div></a><a href="../../alternative/" title="Alternative and complementary packages" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Next</span>Alternative and complementary packages</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright"><div class="md-footer-copyright__highlight">Copyright &copy; 2019 Adrien Leger & Tommaso Leonardi</div>powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div></div></div></footer></div><script src="../../assets/javascripts/application.b260a35d.js"></script><script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script></body></html>